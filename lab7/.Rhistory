knitr::opts_chunk$set(echo = TRUE)
fisheries <- readr::read_csv(file = "data/FAO_1950to2012_111914.csv")
names(fisheries)
dim(fisheries)
summary(fisheries)
library(tidyverse)
library(janitor)
library(skimr)
anyNA(fisheries)
fisheries <- fisheries %>%
clean_names() %>%
mutate(country=as.factor(country),
isscaap_group_number=as.factor(isscaap_group_number),
asfis_species_number=as.factor(asfis_species_number),
fao_major_fishing_area=as.factor(fao_major_fishing_area))
fisheries
#fisheries_tidy <- fisheries %>%
#  pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
#               names_to = "year",
#               values_to = "catch",
#               values_drop_na = TRUE) %>%
#  mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
#  mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
#fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
View(fisheries)
fisheries_tidy%>%
summarize(distinct_species = n_distinct(species))
#fisheries_tidy <- fisheries %>%
#  pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
#               names_to = "year",
#               values_to = "catch",
#               values_drop_na = TRUE) %>%
#  mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
#  mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
#  mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
#fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries %>%
summarize(distinct_species = n_distinct(species))
fisheries %>%
summarize(distinct_countries = n_distinct(countries))
View(fisheries)
fisheries %>%
summarize(distinct_countries = n_distinct(country))
focus_data <- fisheries_tidy %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
fisheries %>%
summarize(distinct_countries = n_distinct(country))
focus_data <- fisheries %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
fisheries <- fisheries %>%
clean_names() %>%
mutate(country=as.factor(country),
isscaap_group_number=as.factor(isscaap_group_number),
asfis_species_number=as.factor(asfis_species_number),
fao_major_fishing_area=as.factor(fao_major_fishing_area))
fisheries
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
fisheries <- clean_names(fisheries)
class(fisheries$country) <- "Factor"
class(fisheries$isscaap_group_number) <- "Factor"
class(fisheries$asfis_species_number) <- "Factor"
class(fisheries$fao_major_fishing_area) <- "Factor"
fisheries <- clean_names(fisheries)
class(fisheries$country) <- "Factor"
class(fisheries$isscaap_group_number) <- "Factor"
class(fisheries$asfis_species_number) <- "Factor"
class(fisheries$fao_major_fishing_area) <- "Factor"
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
fisheries %>%
summarize(distinct_countries = n_distinct(country))
focus_data <- fisheries %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
fisheries <- clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfi#s_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
focus_data <- fisheries %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
focus_data <- fisheries %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy
focus_data <- fisheries_tidy %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
focus_data <- fisheries_tidy %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
focus_data
fisheries %>%
summarize(distinct_fish = n_distinct(asfis_species_number))
fisheries_tidy%>%
select(year=2000)
fisheries_tidy%>%
filter(year=2000)
fisheries_tidy%>%
filter(year==2000)
fisheries_tidy%>%
filter(year==2000)%>%
group_by(country)
fisheries_tidy%>%
filter(year==2000)%>%
fisheries_tidy%>%
filter(year==2000)%>%
fisheries_tidy%>%
filter(year==2000)
fisheries_tidy%>%
filter(year==2000)%>%
group_by(country)%>%
summarie(overall_catch_2000=sum(catch, na.rm=T))%>%
arrange(desc(overall_catch_2000))
fisheries_tidy%>%
filter(year==2000)%>%
group_by(country)%>%
summarize(overall_catch_2000=sum(catch, na.rm=T))%>%
arrange(desc(overall_catch_2000))
fisheries_tidy %>%
filter( asfis_species_name == "Sardina pilchardus") %>%
filter( year %in% c(1990,2000) ) %>%
group_by(country) %>%
summarize(sardines_catch_90_00=sum(catch, na.rm = T)) %>%
arrange(desc(sardines_catch_90_00))
fisheries_tidy %>%
filter( isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
filter( year %in% c(2008,2012) ) %>%
group_by(country) %>%
summarize(cephalopods_catch_08_12=sum(catch, na.rm = T)) %>%
arrange(desc(cephalopods_catch_08_12))
fisheries_tidy %>%
filter( isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
filter( year %in% c(2008,2012) ) %>%
group_by(country) %>%
summarize(cephalopods_catch_2008_2012=sum(catch, na.rm = T)) %>%
arrange(desc(cephalopods_catch_2008_2012))
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(total_catch_08_12=sum(catch, na.rm = T)) %>%
arrange(desc(total_catch_08_12))
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
anyNA(fisheries)
names(fisheries)
summary(fisheries)
fisheries <- clean_names(fisheries)
fisheries$country <- as.factor(fisheries$country)
fisheries$isscaap_group_number <- as.factor(fisheries$isscaap_group_number)
fisheries$asfis_species_number <- as.factor(fisheries$asfis_species_number)
fisheries$fao_major_fishing_area <- as.factor(fisheries$fao_major_fishing_area)
fisheries_tidy <- fisheries %>%
pivot_longer(-c(country,common_name,isscaap_group_number,isscaap_taxonomic_group,asfis_species_number,asfis_species_name,fao_major_fishing_area,measure),
names_to = "year",
values_to = "catch",
values_drop_na = TRUE) %>%
mutate(year= as.numeric(str_replace(year, 'x', ''))) %>%
mutate(catch= str_replace(catch, c(' F'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('...'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('-'), replacement = '')) %>%
mutate(catch= str_replace(catch, c('0 0'), replacement = ''))
fisheries_tidy$catch <- as.numeric(fisheries_tidy$catch)
fisheries_tidy
focus_data <- fisheries_tidy %>%
select(country,isscaap_taxonomic_group,asfis_species_name,asfis_species_number,year,catch)
focus_data
fisheries_tidy%>%
filter(year==2000)%>%
group_by(country)%>%
summarize(overall_catch_2000=sum(catch, na.rm=T))%>%
arrange(desc(overall_catch_2000))
fisheries_tidy %>%
filter( isscaap_taxonomic_group == "Squids, cuttlefishes, octopuses") %>%
filter( year %in% c(2008,2012) ) %>%
group_by(country) %>%
summarize(cephalopods_catch_2008_2012=sum(catch, na.rm = T)) %>%
arrange(desc(cephalopods_catch_2008_2012))
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( fis_species_name != "Osteichthyes" ) %>%
group_by(fis_species_name) %>%
summarize(total_catch_08_12=sum(catch, na.rm = T)) %>%
arrange(desc(total_catch_08_12))
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(total_catch_08_12=sum(catch, na.rm = T)) %>%
arrange(desc(total_catch_08_12))
fisheries_tidy %>%
filter(country == "China") %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(china_catch=sum(catch, na.rm = T)) %>%
arrange(desc(china_catch))
fisheries_tidy %>%
filter(country == "1") %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(china_catch=sum(catch, na.rm = T)) %>%
arrange(desc(china_catch))
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name)
fisheries_tidy %>%
filter( year %in% c(2008,2012) ) %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name)%>%
summarize(total_catch_08_12=sum(catch, na.rm = T)) %>%
arrange(desc(total_catch_08_12))
fisheries_tidy %>%
filter(country == "2") %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(china_catch=sum(catch, na.rm = T)) %>%
arrange(desc(china_catch))
fisheries_tidy %>%
filter(country == "4") %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(4_catch=sum(catch, na.rm = T)) %>%
fisheries_tidy %>%
filter(country == "4") %>%
filter( asfis_species_name != "Osteichthyes" ) %>%
group_by(asfis_species_name) %>%
summarize(country_catch=sum(catch, na.rm = T)) %>%
arrange(desc(country_catch))
knitr::opts_chunk$set(echo = TRUE)
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
knitr::opts_chunk$set(echo = TRUE)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
knitr::opts_chunk$set(echo = TRUE)
glimpse(amniota)
miss_var_summary(amniota)
amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
miss_var_summary()
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
install.packages("naniar")
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
glimpse(amniota)
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
glimpse(amniota)
miss_var_summary(amniota)
summary(amphibio)
miss_var_summary(amphibio)
miss_var_summary(amniota)
miss_var_summary(amphibio)
miss_var_summary(amniota)
amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
miss_var_summary()
miss_var_summary(amniota)
miss_var_summary(amphibio)
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
miss_var_summary(amphibio)
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
miss_var_summary(amniota)
amniota %>%
select(class, egg_mass_g) %>%
group_by(class) %>%
miss_var_summary()
amphibio %>%
select(fos, ter, aqu, arb) %>%
miss_var_summary()
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota
str(amniota)
miss_var_summary(amniota)
glimpse(amniota)
summary(amphibio)
glimpse(amphibio)
amniota %>%
map_df(~ sum(is.na(.)))
na_amn<-amniota %>%
map_df(~ sum(is.na(.)))
sum(na_amn)
na_amp <- amphibio %>%
map_df(~ sum(is.na(.)))
sum(na_amp)
na_amp <- amphibio %>%
map_df(~ sum(is.na(.)))
sum(na_amp)
sum(na_amn)
sum(na_amn)
sum(na_amn)
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
na_amn<-amniota %>%
map_df(~ sum(is.na(.)))
sum(na_amn)
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
na_amn<-amniota %>%
map_df(~ sum(is.na(.)))
sum(na_amn)
library(tidyverse)
library(janitor)
library(skimr)
library(naniar)
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
current_directory <- getwd()
getwd()
getwd()
setwd(lab8/data/amniota.csv)
getwd()
setwd("lab8/data/amniota.csv")
getwd()
setwd("lab8/data")
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
getwd()
setwd("lab8/data")
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
amphibio <- read_csv("../lab8/data/amphibio.csv") %>% clean_names()
amniota  <- readr::read_csv("../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999"))
amniota <-
read_csv(file = "../lab8/data/amniota.csv",
na = c("NA", " ", ".", "-999", -999.0, -999.00, -999.000, -999.0000,-999.00000))
amniota <- read_csv("../lab8/data/amniota.csv") %>% clean_names()
